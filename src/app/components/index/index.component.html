<div class="row">
  <div class="col-md-8">
    <div id="generalpresentation">
      <button
        class="settings-button"
        (click)="setTextValue(text, 'general')"
        data-toggle="modal"
        data-target="#updateTexts"
        *ngIf="hasPermissionToEdit()"
      >
        <i class="fas fa-wrench"></i>
      </button>
      <p [innerHTML]="text | html"></p>
    </div>
  </div>
  <div class="col-md-4">
    <div id="pub1">
      <button
        class="settings-button d-none"
        (click)="setTextValue(pub, 'pub1')"
        data-toggle="modal"
        data-target="#updateTexts"
        *ngIf="hasPermissionToEdit()"
      >
        <i class="fas fa-wrench"></i>
      </button>
      <ng-adsense></ng-adsense>
    </div>
  </div>
</div>
<hr />
<div class="row">
  <h1>Actualités sur les réseaux sociaux</h1>
  <div class="facebook col-md-6 centered">
    <div
      class="fb-page"
      data-href="https://www.facebook.com/funtrain.net/"
      data-tabs="timeline"
      data-width="500"
      data-height="400"
      data-small-header="true"
      data-adapt-container-width="true"
      data-hide-cover="true"
      data-show-facepile="false"
    >
      <blockquote
        cite="https://www.facebook.com/funtrain.net/"
        class="fb-xfbml-parse-ignore"
      >
        <a href="https://www.facebook.com/funtrain.net/">funtrain.net</a>
      </blockquote>
    </div>
  </div>
  <div class="facebook col-md-6 centered">
    <div
      class="fb-page"
      data-href="https://www.facebook.com/APSFI/"
      data-tabs="timeline"
      data-width="500"
      data-height="400"
      data-small-header="true"
      data-adapt-container-width="true"
      data-hide-cover="true"
      data-show-facepile="false"
    >
      <blockquote
        cite="https://www.facebook.com/APSFI/"
        class="fb-xfbml-parse-ignore"
      >
        <a href="https://www.facebook.com/APSFI/">APSFI</a>
      </blockquote>
    </div>
  </div>
</div>
<hr />
<h1>Carte interactive</h1>
<div class="row text-center">
  <p id="maptext">{{ target.name }}</p>
  <div class="w-100 h-100">
    <img
      src="assets/images/carte.jpg"
      class="mapImage"
      #map
      alt=""
      (click)="mapClick()"
      (mouseleave)="setTargetBlank()"
      (mousemove)="setTarget($event)"
    />
  </div>
</div>

<div
  id="updateTexts"
  class="modal fade"
  tabindex="-1"
  role="dialog"
  aria-labelledby="#text-form-title"
  aria-hidden="true"
  *ngIf="hasPermissionToEdit()"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="text-form-title">
          Modifier les textes / pubs
        </h5>
        <button
          class="close"
          data-dismiss="modal"
          #closeForm
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="textForm" (ngSubmit)="onTextSubmit()">
        <div class="modal-body">
          <div class="form-group">
            <label for="text">Texte (html autorisé)</label>
            <textarea
              id="text"
              class="form-control"
              type="text"
              formControlName="text"
              rows="5"
              cols="30"
              style="overflow: hidden"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <div class="btn-group" role="group" aria-label="Modifier">
            <button class="btn btn-danger" type="reset" data-dismiss="modal">
              Annuler
            </button>
            <button
              class="btn btn-success"
              type="submit"
              [disabled]="textForm.invalid"
            >
              Modifier
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
